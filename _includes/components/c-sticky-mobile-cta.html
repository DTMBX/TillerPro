{% assign phone_link = site.company.phone_link | default: '+16098628808' %}
<div class="sticky-cta-bar" id="sticky-mobile-cta" role="region" aria-label="Quick contact actions">
  <a href="tel:{{ phone_link }}" class="sticky-cta-btn sticky-cta-btn--call" aria-label="Call now">
    <svg class="sticky-cta-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
    </svg>
    <span class="sticky-cta-text">Call</span>
  </a>
  <a href="sms:{{ phone_link }}" class="sticky-cta-btn sticky-cta-btn--text">
    <svg class="sticky-cta-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
    </svg>
    <span class="sticky-cta-text">Text</span>
  </a>
  <a href="/contact/" class="sticky-cta-btn sticky-cta-btn--form">
    <svg class="sticky-cta-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
      <polyline points="22,6 12,13 2,6"/>
    </svg>
    <span class="sticky-cta-text">Quote</span>
  </a>
  <button type="button" class="sticky-cta-btn sticky-cta-btn--a11y" id="sticky-a11y-toggle" aria-label="Accessibility options" aria-expanded="false">
    <svg class="sticky-cta-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"/>
      <circle cx="12" cy="12" r="3"/>
      <path d="M12 2v2m0 16v2M2 12h2m16 0h2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"/>
    </svg>
    <span class="sticky-cta-text">Tools</span>
  </button>
</div>
<script>
(function(){
  var b=document.getElementById('sticky-mobile-cta');
  if(!b)return;
  
  function c(){
    if(window.innerWidth>768){
      b.style.display='none';
      return
    }
    b.style.display='flex'
  }
  
  var t=false;
  window.addEventListener('scroll',function(){
    if(!t){
      window.requestAnimationFrame(function(){
        c();
        t=false
      });
      t=true
    }
  },{passive:true});
  
  window.addEventListener('resize',c);
  c();
  
  // Connect accessibility button to panel
  var a11yBtn = document.getElementById('sticky-a11y-toggle');
  var a11yPanel = document.getElementById('a11y-toolbar-panel');
  
  if(a11yBtn && a11yPanel) {
    a11yBtn.addEventListener('click', function(e) {
      e.preventDefault();
      var isExpanded = a11yBtn.getAttribute('aria-expanded') === 'true';
      a11yBtn.setAttribute('aria-expanded', !isExpanded);
      a11yPanel.hidden = isExpanded;
      
      // Hide original floating toggle if it exists
      var floatingToggle = document.getElementById('a11y-toolbar-toggle');
      if(floatingToggle && floatingToggle.parentElement) {
        floatingToggle.parentElement.style.display = 'none';
      }
    });
  }
})();
</script>
