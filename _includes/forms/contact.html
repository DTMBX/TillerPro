<!-- 
  _includes/forms/contact.html
  WCAG 2.1 AA/AAA Compliant Contact Form
  Uses Netlify Forms for automatic form handling (no server code needed)
  - Proper labels with for/id relationships
  - aria-required and aria-describedby for validation
  - Error messaging linked to fields
  - Focus management for errors
  - Screen reader announcements via aria-live
-->
<form
  class="ts-form contact-form"
  name="contact"
  id="contact-form"
  method="POST"
  data-netlify="true"
  netlify-honeypot="bot-field"
  action="/success/?form=contact"
  aria-label="Contact request form"
>
  <!-- Netlify form name (required for form detection) -->
  <input type="hidden" name="form-name" value="contact" />
  
  <!-- Honeypot field for spam protection - hidden from real users -->
  <p class="visually-hidden" aria-hidden="true">
    <label for="bot-field">Don't fill this out if you're human:</label>
    <input id="bot-field" name="bot-field" tabindex="-1" autocomplete="off" />
  </p>

  <!-- Form error summary - populated by JS on validation errors -->
  <div 
    id="form-errors" 
    class="error-summary" 
    role="alert" 
    aria-live="assertive"
    aria-atomic="true"
    hidden
  ></div>

  <!-- Name Field -->
  <div class="field">
    <label for="name" class="form-label">
      Name
      <span class="required-indicator" aria-hidden="true">*</span>
    </label>
    <input 
      id="name" 
      name="name" 
      type="text"
      autocomplete="name" 
      required 
      aria-required="true"
      aria-describedby="name-hint name-error"
      placeholder="Your full name"
    />
    <span id="name-hint" class="form-hint">Enter your first and last name</span>
    <span id="name-error" class="field-error-message" role="alert" aria-live="polite"></span>
  </div>

  <!-- Email Field -->
  <div class="field">
    <label for="email" class="form-label">
      Email
      <span class="required-indicator" aria-hidden="true">*</span>
    </label>
    <input 
      id="email" 
      name="email" 
      type="email" 
      autocomplete="email" 
      required 
      aria-required="true"
      aria-describedby="email-hint email-error"
      placeholder="your.email@example.com"
    />
    <span id="email-hint" class="form-hint">We'll use this to respond to your request</span>
    <span id="email-error" class="field-error-message" role="alert" aria-live="polite"></span>
  </div>

  <!-- Phone Field (Optional) -->
  <div class="field">
    <label for="phone" class="form-label">
      Phone
      <span class="optional-indicator">(optional)</span>
    </label>
    <input 
      id="phone" 
      name="phone" 
      type="tel" 
      autocomplete="tel"
      aria-describedby="phone-hint phone-error"
      placeholder="(555) 123-4567"
    />
    <span id="phone-hint" class="form-hint">For faster response, include your phone number</span>
    <span id="phone-error" class="field-error-message" role="alert" aria-live="polite"></span>
  </div>

  <!-- Message Field -->
  <div class="field">
    <label for="message" class="form-label">
      Project details
      <span class="required-indicator" aria-hidden="true">*</span>
    </label>
    <textarea 
      id="message" 
      name="message" 
      rows="5" 
      required 
      aria-required="true"
      aria-describedby="message-hint message-error"
      placeholder="Tell us about your tile or stone project..."
    ></textarea>
    <span id="message-hint" class="form-hint">
      Include details like room type, approximate size, and timeline
    </span>
    <span id="message-error" class="field-error-message" role="alert" aria-live="polite"></span>
  </div>

  <!-- Submit Button -->
  <button 
    class="btn btn-primary" 
    type="submit"
    aria-describedby="submit-hint"
  >
    Request an estimate
  </button>

  <!-- Form notes and privacy info -->
  <p class="form-note" id="submit-hint">
    <small>
      By submitting, you agree we may contact you about your request. 
      We respect your privacy â€” no spam, ever. 
      <a href="/privacy/">View our privacy policy</a>.
    </small>
  </p>

  <!-- Screen reader status announcements -->
  <div 
    id="form-status" 
    class="sr-only" 
    role="status" 
    aria-live="polite"
    aria-atomic="true"
  ></div>
</form>

