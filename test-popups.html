---
layout: default
title: "Popup & Banner Test Page"
description: "Testing popup and scheduling banner functionality"
---

<style>
  .test-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 2rem;
    background: #f8f7f5;
  }
  
  .test-section {
    background: white;
    padding: 2rem;
    margin: 2rem 0;
    border-radius: 12px;
    border: 2px solid #00a35c;
  }
  
  .test-button {
    background: #00a35c;
    color: white;
    padding: 1rem 2rem;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    margin: 0.5rem;
  }
  
  .test-button:hover {
    background: #006b3d;
  }
  
  .test-result {
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 8px;
    font-family: monospace;
  }
  
  .test-pass {
    background: #d4edda;
    border: 2px solid #00a35c;
    color: #155724;
  }
  
  .test-fail {
    background: #f8d7da;
    border: 2px solid #dc143c;
    color: #721c24;
  }
</style>

<div class="test-container">
  <h1>üß™ Popup & Banner Test Suite</h1>
  <p><strong>Testing all popup and banner functionality</strong></p>
  
  <!-- Test 1: Check CSS Files -->
  <div class="test-section">
    <h2>Test 1: CSS Files Loaded</h2>
    <button class="test-button" onclick="testCSSFiles()">Run Test</button>
    <div id="css-test-result"></div>
  </div>
  
  <!-- Test 2: Check JS Files -->
  <div class="test-section">
    <h2>Test 2: JavaScript Functions</h2>
    <button class="test-button" onclick="testJSFunctions()">Run Test</button>
    <div id="js-test-result"></div>
  </div>
  
  <!-- Test 3: Show Scheduling Bar -->
  <div class="test-section">
    <h2>Test 3: Scheduling Bar</h2>
    <button class="test-button" onclick="testSchedulingBar()">Show Scheduling Bar</button>
    <button class="test-button" onclick="clearSession()">Clear Session</button>
    <div id="scheduling-test-result"></div>
  </div>
  
  <!-- Test 4: License Badge Popup -->
  <div class="test-section">
    <h2>Test 4: License Badge Popup</h2>
    <p>Hover or click the badge below:</p>
    
    <div class="license-badge" style="display: inline-block;">
      <button class="license-badge__button">
        üõ°Ô∏è Licensed & Insured
      </button>
      <div class="license-badge__popup" aria-hidden="true">
        <button class="license-badge__popup-close">√ó</button>
        <div class="license-badge__popup-title">
          Licensed & Insured
        </div>
        <div class="license-badge__popup-content">
          <p>New Jersey Home Improvement Contractor</p>
          <div class="license-badge__popup-number">
            NJ HIC #13VH10808800
          </div>
        </div>
      </div>
    </div>
    
    <div id="badge-test-result"></div>
  </div>
  
  <!-- Test 5: Toast Messages -->
  <div class="test-section">
    <h2>Test 5: Toast Messages</h2>
    <button class="test-button" onclick="testToastSuccess()">Success Toast</button>
    <button class="test-button" onclick="testToastError()">Error Toast</button>
    <button class="test-button" onclick="testToastInfo()">Info Toast</button>
    <div id="toast-test-result"></div>
  </div>
  
  <!-- Test 6: CSS Inspection -->
  <div class="test-section">
    <h2>Test 6: Inspect CSS Rules</h2>
    <button class="test-button" onclick="inspectCSS()">Inspect Styles</button>
    <div id="css-inspect-result"></div>
  </div>
</div>

<script>
// Test CSS Files
function testCSSFiles() {
  const result = document.getElementById('css-test-result');
  const requiredFiles = [
    'popup-fixes.css',
    'message-animations.css',
    'mobile-header-nav-fixes.css',
    'color-contrast-standard.css'
  ];
  
  const stylesheets = Array.from(document.styleSheets);
  const loadedFiles = stylesheets.map(s => s.href).filter(h => h);
  
  let html = '<div class="test-result test-pass"><strong>CSS Files Check:</strong><ul>';
  let allLoaded = true;
  
  requiredFiles.forEach(file => {
    const loaded = loadedFiles.some(href => href.includes(file));
    if (loaded) {
      html += `<li>‚úÖ ${file} - LOADED</li>`;
    } else {
      html += `<li>‚ùå ${file} - NOT FOUND</li>`;
      allLoaded = false;
    }
  });
  
  html += '</ul></div>';
  result.innerHTML = html;
  result.querySelector('.test-result').className = allLoaded ? 'test-result test-pass' : 'test-result test-fail';
}

// Test JavaScript Functions
function testJSFunctions() {
  const result = document.getElementById('js-test-result');
  const requiredFunctions = [
    'showToast',
    'showSchedulingBar',
    'showSuccess',
    'showLoading'
  ];
  
  let html = '<div class="test-result test-pass"><strong>JavaScript Functions Check:</strong><ul>';
  let allFound = true;
  
  requiredFunctions.forEach(func => {
    if (typeof window[func] === 'function') {
      html += `<li>‚úÖ ${func}() - EXISTS</li>`;
    } else {
      html += `<li>‚ùå ${func}() - NOT FOUND</li>`;
      allFound = false;
    }
  });
  
  html += '</ul></div>';
  result.innerHTML = html;
  result.querySelector('.test-result').className = allFound ? 'test-result test-pass' : 'test-result test-fail';
}

// Test Scheduling Bar
function testSchedulingBar() {
  const result = document.getElementById('scheduling-test-result');
  
  try {
    // Remove session storage to force show
    sessionStorage.removeItem('schedulingBarClosed');
    
    // Call the function
    if (typeof showSchedulingBar === 'function') {
      showSchedulingBar();
      result.innerHTML = '<div class="test-result test-pass">‚úÖ Scheduling bar should appear at the top!</div>';
      
      // Check if it actually appeared
      setTimeout(() => {
        const bar = document.querySelector('.scheduling-bar');
        if (bar) {
          result.innerHTML = '<div class="test-result test-pass">‚úÖ Scheduling bar is visible!<br>Text: "' + bar.textContent + '"</div>';
        } else {
          result.innerHTML = '<div class="test-result test-fail">‚ùå Scheduling bar function ran but element not found in DOM</div>';
        }
      }, 500);
    } else {
      result.innerHTML = '<div class="test-result test-fail">‚ùå showSchedulingBar() function not found</div>';
    }
  } catch (error) {
    result.innerHTML = '<div class="test-result test-fail">‚ùå Error: ' + error.message + '</div>';
  }
}

function clearSession() {
  sessionStorage.clear();
  alert('Session storage cleared! Refresh to see scheduling bar again.');
}

// Test Toast Messages
function testToastSuccess() {
  if (typeof showSuccess === 'function') {
    showSuccess('Test successful! üéâ', 5000);
    document.getElementById('toast-test-result').innerHTML = '<div class="test-result test-pass">‚úÖ Success toast triggered</div>';
  } else {
    alert('showSuccess() not found');
  }
}

function testToastError() {
  if (typeof showToast === 'function') {
    showToast('This is an error message', 'error', 5000);
    document.getElementById('toast-test-result').innerHTML = '<div class="test-result test-pass">‚úÖ Error toast triggered</div>';
  } else {
    alert('showToast() not found');
  }
}

function testToastInfo() {
  if (typeof showToast === 'function') {
    showToast('This is an info message', 'info', 5000);
    document.getElementById('toast-test-result').innerHTML = '<div class="test-result test-pass">‚úÖ Info toast triggered</div>';
  } else {
    alert('showToast() not found');
  }
}

// Inspect CSS
function inspectCSS() {
  const result = document.getElementById('css-inspect-result');
  const testElement = document.querySelector('.scheduling-bar') || document.createElement('div');
  testElement.className = 'scheduling-bar';
  document.body.appendChild(testElement);
  
  const computed = window.getComputedStyle(testElement);
  
  let html = '<div class="test-result test-pass"><strong>Scheduling Bar Computed Styles:</strong><ul>';
  html += `<li>Display: ${computed.display}</li>`;
  html += `<li>Position: ${computed.position}</li>`;
  html += `<li>Top: ${computed.top}</li>`;
  html += `<li>Height: ${computed.height}</li>`;
  html += `<li>Background: ${computed.backgroundColor}</li>`;
  html += `<li>Z-index: ${computed.zIndex}</li>`;
  html += '</ul></div>';
  
  result.innerHTML = html;
  
  // Clean up
  if (!document.querySelector('.scheduling-bar')) {
    testElement.remove();
  }
}

// Auto-run basic tests on load
window.addEventListener('DOMContentLoaded', () => {
  console.log('üß™ Test page loaded - ready for testing!');
});
</script>
